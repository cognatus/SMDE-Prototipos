extends layout

block content
		script( type='text/javascript' src='/js/calendarGenerator.js' )
		script( type='text/javascript' src='/ajax/ajaxCalendar.js' )

		#new_item.float_buttoncontainer( title='Nuevo' )
			span.bg_plus.bgaccent_color

		.hidden_blockcontainer
			.hidden_blockback.bgaccent_color
			.hidden_block.bg_white
				span.close.bg_close.rippleria-dark( data-rippleria )
				.colhh1.bgprimary_color
					.colhh1.pd_8.bgprimary_colorDarker
					.pd_18.form_title.white_text Nuevo
				.colhh1.hb_formcontainer
					form#calendarAddNew(name='calendarNewEvent' action='insertReminder' method='POST')
						.form_innercontainer
							.form_titlepad.flat_shadow.bgprimary_color
								.form_input.white_text.rel_pos
									input.activeline.white_text(type='text' required name='formCalendarTitle')
									label Título
							.pd_24
								.form_input
									.b_text.left_title Asunto
									select#selectCalendarPostType
										option(value='reminder') Recordatorio
										- if (privilegio == 2)
											option(value='publication') Publicación
								//- Si es profesor
								- if (privilegio == 2)
									.form_input
										.b_text.left_title Grupo
										select#showSubjectsCourses(name='calendarCourseSelectField')
											if subjectsProfileData != undefined
												each item in subjectsProfileData
													option(value='#{item.idSubject}/#{item.idCourse}') #{item.subjectName} #{item.courseName}
								.form_input
									.b_text.left_title Fecha Limite
									.triple
										input(type='text', placeholder='DD' name='formCalendarDay' maxlength='2')
										input.third(type='text', placeholder='MM' name='formCalendarMonth' maxlength='2')
										input.third(type='text', placeholder='AAAA' name='formCalendarYear' maxlength='4')
								.form_input
									.b_text.left_title Hora Limite
									.double
										select(name='formCalendarHour' required)
											option(value='00' disabled selected) Hora
											- for(var h = 0; h < 24; h++)
												- if ( h < 10 )
													- h = '0' + h
												option(value=h)= h
										select.second(name='formCalendarMinute' required)
											option(value='00' disabled selected) Minuto
											- for(var m = 0; m < 60; m++)
												- if ( m < 10 )
													- m = '0' + m
												option(value=m)= m
								.form_input
									.b_text Comentarios
									textarea(placeholder='Añade un Comentario' name='formCalendarComment')
								- if (privilegio == 2)
									.form_input
										.input_filecontainer
											input(type='file' name='attachedfile' id='attachedfile' value='')
										.file_buttoncontainer
											span#trigger_fbutton.bg_attachment_white.circle.bgaccent_color2.flat_shadow.rippleria-dark( data-rippleria title='Adjuntar Archivo' )
											.right_float
												#file_value.ll_title.opacity_color.border_thick Seleccionar Archivo
								.form_input(style='height: 52px;')
									span.bgaccent_color.bg_check.submit.circle.rippleria-dark( data-rippleria )
						.form_confirmblock
							.inner_confirmblock.bg_gray.flat_shadow
								.pd_24
									.colhh1.white_text
										.pd_8.ll_title ¿Realizar esta acción?
								.pd_12
									.autooverflow
										span.submit_cancel.raised_button.right_float.rippleria-dark(data-rippleria)
											input.txtaccent_color.b_text(type='button' value='Cancelar')
										span.raised_button.right_float.rippleria-dark(data-rippleria)
											input.txtaccent_color2.b_text(type='submit' value='Aceptar')
		.topspace
		.page_container
			.colhh1
				.block_container.bg_white.calendar_container.v_top
					//- .colhh1.border_bottom
					//- 	.pd_18.ll_title.center_text Calendario
					.calendar
						.colhh1.white_text.center_text.bgaccent_color3.calendar_colortitle
							.colhh1
								.bg_opacity
									.pd_18.ll_title.uppercase 
										label#weekday Dia Semana
							.today_title
								.month_title.uppercase Mes
								.day_title Dia
								.year_title Año
						.colhh1.opacity_color.calendar_monthcontainer
							.pd_16.center_text
								#left.v_middle.button.circle.rippleria-dark( data-rippleria onclick='prevMonth()' )
								#right.v_middle.button.circle.rippleria-dark( data-rippleria onclick='nextMonth()' )
								.autocol.v_middle.my_cont
									#month Mes
									#year Año
							.colhh1
								.pd_4
									.b_text
										.colhh7.center_text
											.pd_8.dayname DOM
										.colhh7.center_text
											.pd_8.dayname LUN
										.colhh7.center_text
											.pd_8.dayname MAR
										.colhh7.center_text
											.pd_8.dayname MIE
										.colhh7.center_text
											.pd_8.dayname JUE
										.colhh7.center_text
											.pd_8.dayname VIE
										.colhh7.center_text
											.pd_8.dayname SAB
									.colhh1.tablecalendar
										.day_pos.circle.bgaccent_color3
										#calendar_month_content
										//- .day.v_top.today
										//- 	.pd_8
										//- 		.num 
										//- 			span 1
										//- 		.dot_cont
										//- 			span
										//- 			span
										//- 			span
					.calendar_right.v_top.bg_white
						.calendar_rightinner
							.colhh1.flat_shadow.bg_amber.white_text
								#calendar_dayevents_title.pd_18.ll_title
									span#backcalendar.backicon_white.rippleria-dark( data-rippleria )
									#selectedDate.right_float Hoy
							#calendar_dayeventscont.colhh1.autooverflow.listcontainer
								.colhh1.empty_blocktext.center_text
									.centerempty
										.pd_64
											span.v_middle(style= 'background-image: url("images/calendar-remove.png")')
											.autocol.mm_title.pd_12 No hay eventos ni tareas para este dia.
											.ll_title.normal_txt Presiona &nbsp; + &nbsp; para agregar un nuevo evento en este día.
								#showByDate

				.calendar_allr.v_top
					.block_container.bg_calendar.calendar_imgcontainer
						.colhh1.white_text
							.bg_opacity.pd_18.uppercase
								.ll_title#calendar_bgtitle
					.block_container.bg_white
						.colhh1.bg_lightgray.border_bottom
							.pd_18.ll_title Todo
						.colhh1
							#calendar_list.listcontainer
								.colhh1.opacity_color.b_text.border_bottom
									.colhh2.hover(data-show='Publicación')
										.pd_16.center_text.uppercase
											| Publicaciones
									.colhh2.hover(data-show='Recordatorio')
										.pd_16.center_text.uppercase
											| Recordatorios
								.colhh1.empty_blocktext.center_text
									.pd_64
										span.v_middle(style= 'background-image: url("images/calendar-remove.png")')
										.autocol.mm_title.pd_12 No hay eventos ni tareas.
										.ll_title.normal_txt Presiona &nbsp; + &nbsp; para agregar un nuevo evento.
								if publicationsData != undefined
									each item in publicationsData
										.colhh1.slide_list(data-name='#{item.pubTitle}' data-type='Publicación')
											.colhh1.hover.listitem.rippleria-dark(data-rippleria)
												.listitem_img
													span A
												.listitem_info
													.listitem_rightinfo #{item.pubDate} #{item.pubTime}
													.listitem_title 
														b #{item.pubTitle}
													.listitem_bottomdata Publicación
											.colhh1.innerlistitem
												.colhh1.border_bottom
													.list_borderleft
														.pd_llist
															.sl_title De: 
																span.margin_l.normal_txt(title='#{item.userEmail}') #{item.userName} #{item.userLastName} #{item.userSecondLastName}
															.pd_4
															.sl_title Asignatura: 
																span.margin_l.normal_txt #{item.subjectName}
															.pd_4
															.sl_title Grupo: 
																span.margin_l.normal_txt #{item.courseName}
															.pd_4
															.sl_title Entrega: 
																span.margin_l.normal_txt #{item.pubLimDate}
															.pd_8.border_bottom
														.pd_llist
															.sl_title Comentarios
															.pd_16.justify_text.breakword.border_bottom
																| #{item.pubText}
														.pd_llist
															.sl_title Archivos Adjuntos
														.attached_filecontainer.autooverflow.pd_lr8
															span.v_middle.bg_file.bg_blue.borad
															div.v_middle.sl_title.opacity_color #{item.publicationAttachedNameFile}
															span.right_float.bg_download.hover.rippleria-dark(data-rippleria title='Descargar')
													.pd_18.listitemactions.autooverflow
														span.circle.right_float.bg_delete.hover(title='Eliminar')
														span.circle.right_float.bg_archive.hover(title='Archivar')
														//- var email = '#{item.userEmail}'
														//- if email == datos[0].userEmail 
															span.circle.right_float.bg_editgray.hover(title='Editar')
														- if ( privilegio == 1 )
															span.circle.right_float.bg_reply.hover(title='Responder')
								if remindersData != undefined
									each item in remindersData
										.colhh1.slide_list(data-name='#{item.reminderTitle}' data-type='Recordatorio')
											.colhh1.hover.listitem.rippleria-dark(data-rippleria)
												.listitem_img
													span A
												.listitem_info
													.listitem_rightinfo #{item.reminderDate} #{item.reminderTime}
													.listitem_title 
														b #{item.reminderTitle}
													.listitem_bottomdata Recordatorio
											.colhh1.innerlistitem
												.colhh1.border_bottom
													.list_borderleft
														.pd_llist
															.sl_title Fecha Limite: 
																span.margin_l.normal_txt #{item.reminderLimDate}
															.pd_8.border_bottom
														.pd_llist
															.sl_title Comentarios
															.pd_16.justify_text.breakword
																| #{item.reminderText}
													.pd_18.listitemactions.autooverflow
														span.circle.right_float.bg_delete.hover(title='Eliminar')
														span.circle.right_float.bg_archive.hover(title='Archivar') 
														span.circle.right_float.bg_editgray.hover(title='Editar')
							.colhh1.load_container#calendar_showall
								.load
									.spinner
