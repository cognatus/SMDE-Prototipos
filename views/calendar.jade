extends layout

block content
		script( type='text/javascript' src='/js/calendarGenerator.js' )
		script( type='text/javascript' src='/ajax/ajaxCalendar.js' )

		#new_item.float_buttoncontainer( title='Nuevo' )
			span.bg_plus.bgaccent_color

		.hidden_blockcontainer
			.hidden_blockback.bgaccent_color
			.hidden_block.bg_white
				span.close.bg_close.rippleria-dark( data-rippleria )
				.colhh1.bgprimary_color
					.colhh1.pd_8.bgprimary_colorDarker
					.pd_18.form_title.white_text Nuevo
				.colhh1.hb_formcontainer
					form#calendarAddNew(name='calendarNewEvent' action='insertReminder' method='POST')
						.form_innercontainer
							.form_titlepad.flat_shadow.bgprimary_color
								.form_input.white_text.rel_pos
									input.activeline.white_text(type='text' required name='formCalendarTitle')
									label Título
							.pd_24
								.form_input
									.b_text.left_title Asunto
									select#selectCalendarPostType
										option(value='reminder') Recordatorio
										- if (privilegio == 2)
											option(value='publication') Publicación
								//- Si es profesor
								- if (privilegio == 2)
									.form_input
										.b_text.left_title Grupo
										select#showSubjectsCourses(name='calendarCourseSelectField')
											if subjectsProfileData != undefined
												each item in subjectsProfileData
													option(value='#{item.idSubject}/#{item.idCourse}') #{item.subjectName} #{item.courseName}
								.form_input
									.b_text.left_title Fecha Limite
									.triple
										input(type='text', placeholder='DD' name='formCalendarDay' maxlength='2')
										input.third(type='text', placeholder='MM' name='formCalendarMonth' maxlength='2')
										input.third(type='text', placeholder='AAAA' name='formCalendarYear' maxlength='4')
								.form_input
									.b_text.left_title Hora Limite
									.double
										select(name='formCalendarHour' required)
											option(value='00' disabled selected) Hora
											- for(var h = 0; h < 24; h++)
												- if ( h < 10 )
													- h = '0' + h
												option(value=h)= h
										select.second(name='formCalendarMinute' required)
											option(value='00' disabled selected) Minuto
											- for(var m = 0; m < 60; m++)
												- if ( m < 10 )
													- m = '0' + m
												option(value=m)= m
								.form_input
									.b_text Comentarios
									textarea(placeholder='Añade un Comentario' name='formCalendarComment')
								- if (privilegio == 2)
									.form_input.f_select
										.input_filecontainer
											input(type='file' name='attachedfile' id='attachedfile' value='')
										.file_buttoncontainer
											span.trigger.bg_attachment_white.circle.bgaccent_color2.flat_shadow.rippleria-dark( data-rippleria title='Adjuntar Archivo' )
											.right_float
												.f_value.ll_title.opacity_color.border_thick Seleccionar Archivo
								.form_input(style='height: 52px;')
									span.bgaccent_color.bg_check.submit.circle.rippleria-dark( data-rippleria )
						.form_confirmblock
							.inner_confirmblock.bg_gray.flat_shadow
								.pd_24
									.colhh1.white_text
										.pd_8.ll_title ¿Realizar esta acción?
								.pd_12
									.autooverflow
										span.submit_cancel.raised_button.right_float.rippleria-dark(data-rippleria)
											input.txtaccent_color.b_text(type='button' value='Cancelar')
										span.raised_button.right_float.rippleria-dark(data-rippleria)
											input.txtaccent_color2.b_text(type='submit' value='Aceptar')
		.topspace
		.page_container
			.colhh1
				.calendar_container.v_top
					.calendar.bg_white.block_container
						.colhh1.white_text.center_text.bg_calendar
							.bg_opacity
								.colhh1
									.colhh1.bg_opacity
										.pd_18.ll_title.uppercase 
											label#weekday Dia Semana
								.today_title
									.month_title.uppercase Mes
									.day_title Dia
									.year_title Año
						.colhh1.opacity_color.calendar_monthcontainer
							.pd_16.center_text
								#left.v_middle.button.circle.rippleria-dark( data-rippleria onclick='prevMonth()' )
								#right.v_middle.button.circle.rippleria-dark( data-rippleria onclick='nextMonth()' )
								.autocol.v_middle.my_cont
									#month Mes
									#year Año
							.colhh1
								.pd_4
									.b_text
										.colhh7.center_text
											.pd_8.dayname DOM
										.colhh7.center_text
											.pd_8.dayname LUN
										.colhh7.center_text
											.pd_8.dayname MAR
										.colhh7.center_text
											.pd_8.dayname MIE
										.colhh7.center_text
											.pd_8.dayname JUE
										.colhh7.center_text
											.pd_8.dayname VIE
										.colhh7.center_text
											.pd_8.dayname SAB
									.colhh1.tablecalendar
										.day_pos.circle.bgaccent_color3
										#calendar_month_content
										//- .day.v_top.today
										//- 	.pd_8
										//- 		.num 
										//- 			span 1
										//- 		.dot_cont
										//- 			span
										//- 			span
										//- 			span
						.calendar_right.v_top.bg_white
							.calendar_rightinner
								.colhh1
									#calendar_dayevents_title.pd_18.ll_title.border_bottom
										span#backcalendar.backicon.rippleria-dark( data-rippleria )
										#selectedDate.right_float Hoy
								#calendar_dayeventscont.colhh1.autooverflow.listcontainer
									.colhh1.empty_blocktext.center_text
										.centerempty
											.pd_64
												span.v_middle(style= 'background-image: url("images/calendar-remove.png")')
												.autocol.mm_title.pd_12 No hay eventos ni tareas para este dia.
												.ll_title.normal_txt Presiona &nbsp; + &nbsp; para agregar un nuevo evento en este día.

					//- .block_container.bg_calendar.calendar_imgcontainer
					//- 	.colhh1.white_text
					//- 		.bg_opacity.pd_18.uppercase
					//- 			.ll_title#calendar_bgtitle

				.calendar_allr.v_top
					.colhh1
						.colhh1.bg_lightgray.block_container
							.pd_18.ll_title.border_bottom Todo
							- if ( privilegio == 1 || privilegio == 2)
								.colhh1.opacity_color.b_text.bg_white
									.colhh2.hover(data-show='Publicación')
										.pd_16.center_text.uppercase
											| Publicaciones
									.colhh2.hover(data-show='Recordatorio')
										.pd_16.center_text.uppercase
											| Recordatorios
						.colhh1
							#calendar_list.listcontainer
								.block_container.empty_blocktext.center_text.bg_white
									.pd_64
										span.v_middle(style= 'background-image: url("images/calendar-remove.png")')
										.autocol.mm_title.pd_12 No hay eventos ni tareas.
										.ll_title.normal_txt Presiona &nbsp; + &nbsp; para agregar un nuevo evento.
								if publicationsData != undefined
									each item in publicationsData
										.colhh1.block_container.bg_white.cal_post(data-name='#{item.pubTitle}' data-type='Publicación')
											.colhh1.list_leftitem(style='padding-top: 2px;margin-bottom: 16px;')
												.listitem_img
													img(src='images/profilephoto.png' title='#{item.userEmail}')
												.listitem_info
													.listitem_rightinfo 
														label.item_date #{item.pubDate}
														label.item_time #{item.pubTime}
													.listitem_title(title='#{item.userEmail}')  
														b #{item.userName} #{item.userLastName} #{item.userSecondLastName}
													.listitem_bottomdata #{item.pubTitle}
											.pd_lr8
												.pd_llist
													.sl_title Asunto: 
														span.margin_l.normal_txt #{item.pubTitle}
													.pd_4
													.sl_title Asignatura: 
														span.margin_l.normal_txt #{item.subjectName}
													.pd_4
													.sl_title Grupo: 
														span.margin_l.normal_txt #{item.courseName}
													.pd_4
													.sl_title Entrega: 
														span.margin_l.normal_txt #{item.pubLimDate}
													.pd_12.border_bottom
												.pd_llist
													.pd_4
													.sl_title Comentarios
													.pd_16.justify_text.breakword.border_bottom
														| #{item.pubText}
														.pd_4
												.pd_llist
													.pd_4
													.sl_title Archivos Adjuntos
													.pd_4
												.attached_filecontainer.autooverflow.pd_lr8(style='margin-bottom: 18px;')
													span.v_middle.bg_file.bg_blue.borad
													div.v_middle.sl_title.opacity_color #{item.publicationAttachedNameFile}
													span.right_float.bg_download.hover.rippleria-dark(data-rippleria title='Descargar')
											.pd10_16.listitemactions.bg_lightgray
												- if ( privilegio == 2 )
													.autocol.txtprimary_color.sl_title.underline(style='margin-top: 11px;') Mostrar Respuestas
												.autocol.right_float
													- if ( privilegio == 1 )
														span.circle.bg_reply.hover(title='Responder')
													- if ( privilegio == 2 )
														span.circle.bg_editgray.hover(title='Editar')
													span.circle.bg_archive.hover(title='Archivar')
													span.circle.bg_delete.hover(title='Eliminar')
								if remindersData != undefined
									each item in remindersData
										.colhh1.block_container.bg_white.cal_post(data-name='#{item.reminderTitle}' data-type='Recordatorio')
											.colhh1.list_leftitem(style='padding-top: 2px;margin-bottom: 16px;')
												.listitem_img
													span A
												.listitem_info
													.listitem_rightinfo 
														label.item_date #{item.reminderDate}
														label.item_time #{item.reminderTime}
													.listitem_title 
														b #{item.reminderTitle}
													.listitem_bottomdata Recordatorio
											.pd_lr8
												.pd_llist
													.sl_title Fecha Limite: 
														span.margin_l.normal_txt #{item.reminderLimDate}
													.pd_8.border_bottom
												.pd_llist
													.pd_4
													.sl_title Comentarios
													.pd_16.justify_text.breakword
														| #{item.reminderText}
											.pd10_16.listitemactions.autooverflow.bg_lightgray
												span.circle.right_float.bg_delete.hover(title='Eliminar')
												span.circle.right_float.bg_archive.hover(title='Archivar') 
												span.circle.right_float.bg_editgray.hover(title='Editar')
							.colhh1.load_container#calendar_showall
								.load
									.spinner
